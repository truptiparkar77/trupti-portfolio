<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Trupti's Portfolio</title>

  <style>
    /* Fonts */
    @font-face {
      font-family: 'Upheaval';
      src: url('upheavtt.ttf') format('truetype');
    }

    @font-face {
      font-family: 'Windows Regular';
      src: url('Windows Regular.ttf') format('truetype');
    }

    /* General Reset */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: Arial, sans-serif;
      background-color: #f4f2ea;
      background-image: url('background_illustration.png'), url('bg-grid.png');
      background-position: calc(37% - 10px) 60px, center center;
      background-repeat: no-repeat, repeat;
      background-size: calc(85% - 50px) auto, 150% auto;
      background-blend-mode: normal, overlay;
      overflow: hidden;
    }

    /* Custom Cursor */
    #custom-cursor {
      width: 33px;
      height: 33px;
      background-image: url('cursor.png');
      background-size: contain;
      background-repeat: no-repeat;
      position: fixed;
      pointer-events: none;
      z-index: 2147483647;
      display: none; /* Hide custom cursor */
    }

    .social-icon {
      width: 60px;
      height: 60px;
      transition: transform 0.3s ease;
      pointer-events: auto;
      z-index: 10000;
    }

    .header-right a {
      text-decoration: none;
      pointer-events: auto;
      display: block;
      z-index: 10000;
    }

    /* Header */
    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      background-color: #fe6b41;
      padding: 5px 50px;
      color: black;
      font-family: 'Upheaval', Arial, sans-serif;
    }

    .header-left {
      display: flex;
      align-items: center;
    }

    .header-left a {
      display: flex;
      align-items: center;
      text-decoration: none;
      color: inherit;
    }

    .logo {
      width: 42px; /* Increased by 2px from 35px */
      height: 42px; /* Increased by 2px from 35px */
      margin-right: 15px;
      transition: all 0.3s ease; /* Added transition for smooth hover effect */
    }

    .site-name {
          height: 44.64px; /* Increased by 10% from 40.58px */
          transition: all 0.3s ease;
          margin-left: -8px; /* Moved 2px more to the left from -5px */
        }

        .header-left a:hover .site-name {
          filter: brightness(1.1);
          transform: scale(1.1);
        }

        .header-left a:hover .logo {
          filter: brightness(1.1);
          transform: scale(1.1);
        }

    .header-right {
      display: flex;
      gap: 20px;
    }

    .linkedin-icon:hover {
      content: url('Hover_linkedin-icon.png');
      transform: scale(1.033);
    }

    .instagram-icon:hover {
      content: url('Hover_instagram-icon.png');
      transform: scale(1.033);
    }

    .behance-icon:hover {
      content: url('Hover_behance-icon.png');
      transform: scale(1.033);
    }

    /* Desktop Icons */
    .desktop {
      display: flex;
      flex-direction: column;
      gap: 30px;
      position: fixed;
      left: 40px;
      top: calc(45% - 20px); /* Moved 20px higher */
      transform: translateY(-50%);
      z-index: 100;
    }

    .icon {
      width: 80px; /* Match bowl-container width */
      text-align: center;
      font-size: 20px;
      color: black;
      font-family: 'Windows Regular', Arial, sans-serif;
      transition: transform 0.2s ease;
    }

    .icon img {
      width: 68px;
      height: 68px;
      filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.15));
    }

    .icon div {
      text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.15);
    }

    .icon:hover {
      text-decoration: underline;
      transform: scale(1.03);
    }

    .icon:first-child img {
      margin-bottom: -3px;
    }

    .icon:last-child img {
      margin-bottom: -10px;
    }

    /* Bowl */
    .bowl-container {
      position: fixed;
      bottom: 50px;
      left: 40px;
      text-align: center;
      font-size: 20px;
      font-family: 'Windows Regular', Arial, sans-serif;
      z-index: 3; /* Increased to be above cat frames */
      cursor: pointer;
      transition: transform 0.2s ease;
      width: 80px;
    }

    .bowl-container:hover {
      transform: scale(1.03);
    }

    .bowl-container:hover .title {
      text-decoration: underline;
    }

    .bowl-image {
      width: 68px; /* Match other icons size */
      height: 68px; /* Match other icons size */
      position: absolute;
      left: 6px; /* Center within container */
      bottom: 30px;
      opacity: 0;
      transition: opacity 0.3s ease;
      filter: drop-shadow(4px 4px 8px rgba(0, 0, 0, 0.15)); /* Match other icons shadow */
    }

    #emptyBowl {
      bottom: 27px; /* 30px - 3px */
    }

    .bowl-image.active {
      opacity: 1;
    }

    .bowl-container .title {
      position: absolute;
      width: 100%;
      bottom: 0;
      left: 0;
      text-align: center;
      text-shadow: 4px 4px 8px rgba(0, 0, 0, 0.15);
    }

    /* Cat Animation */
    .cat-container {
      position: fixed;
      bottom: 107.5px; /* Changed from 110.5px to move down by 3px */
      left: 700px;
      transform: translateX(-50%);
      opacity: 1;
      z-index: 2;
      width: 90px;  /* Reduced from 93px */
      height: 90px; /* Reduced from 93px */
      transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                height 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                bottom 0.3s cubic-bezier(0.4, 0, 0.2, 1),
                left 0.3s cubic-bezier(0.4, 0, 0.2, 1); /* Added easing */
    }

    .cat-frame {
      position: absolute;
      width: 100%;
      height: 100%;
      opacity: 1;
      display: none;
      filter: drop-shadow(0 5px 3px rgba(0, 0, 0, 0.2));
      transition: none;
    }

    .cat-frame.active {
      opacity: 1;
      display: block; /* Show active frame */
      visibility: visible;
    }

    .doormat-container {
      position: fixed;
      bottom: -20px;
      left: calc(50% + 10px); /* Move 10px to the right */
      transform: translateX(-50%);
      z-index: 1;
    }

    .doormat-image {
      width: 1200px;
      height: 1000px;
    }

    /* Screen Info */
    #screenSize {
      position: fixed;
      bottom: 10px;
      right: 10px;
      background: rgba(0, 0, 0, 0.7);
      color: white;
      padding: 10px;
      border-radius: 5px;
      font-size: 12px;
      display: none; /* Hide screen size debug info */
    }

    /* Instagram Dialogue Box */
    .instagram-dialogue {
      position: fixed;
      left: calc(79% - 165px + 20px); /* Moved 20px to the right */
      top: calc(40% + 30px); /* Moved 30px higher (removed one +30px) */
      transform: translateY(-50%); /* Only transform Y since we're using left */
      z-index: 1000;
      width: 400px;
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
    }

    .instagram-dialogue img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* IDB Button */
    .idb-button {
      position: fixed;
      left: calc(79% - 165px + 200px + 20px); /* Moved 20px to the right (added to existing offset) */
      top: calc(40% + 10px + 30px); /* Moved 30px higher (removed one +30px) */
      transform: translate(-50%, -50%); /* Center the button itself */
      z-index: 10002;
      width: 57px;
      height: 57px;
      cursor: pointer;
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
      transition: transform 0.2s ease;
    }

    .idb-button:hover {
      transform: translate(-50%, -50%) scale(1.04);
    }

    .idb-button:hover img {
      content: url('idb_button_hover.png');
    }

    .idb-button a {
      display: block;
      width: 100%;
      height: 100%;
      text-decoration: none;
    }

    .idb-button img {
      width: 100%;
      height: 100%;
      display: block;
      object-fit: contain; /* Maintain aspect ratio without distortion */
      object-position: center; /* Center the image */
    }

    /* Intro Box */
    .intro-box {
      position: fixed;
      left: 26%; /* Moved to Instagram dialogue's position */
      top: 49%; /* Moved to Instagram dialogue's position */
      transform: translate(-50%, -50%); /* Updated transform for centering */
      z-index: 1000;
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
      width: 400px;
    }

    .intro-box img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Disclaimer Box */
    .disclaimer-box {
      position: fixed;
      left: 1020px; /* Positioned to the right of the cat (cat is at 700px) */
      top: 80%; /* Centrally aligned vertically */
      transform: translateY(-50%); /* Center vertically */
      z-index: 1000;
      filter: drop-shadow(2px 2px 4px rgba(0, 0, 0, 0.2));
      width: 300px; /* Increased by 30% from 150px (150 * 1.3 = 195) */
    }

    .disclaimer-box img {
      width: 100%; /* Scale to container width */
      height: auto; /* Maintain aspect ratio */
      display: block;
    }
  </style>
</head>

<body>
  <!-- Custom Cursor -->
  <div id="custom-cursor"></div>

  <!-- Header -->
  <header>
    <div class="header-left">
      <a href="index.html">
        <img src="logo.png" alt="Logo" class="logo" />
        <img src="name.png" alt="Trupti Parkar" class="site-name" />
      </a>
    </div>
    <div class="header-right">
      <a href="https://www.linkedin.com/in/trupti-parker-803663b1?utm_source=share&utm_campaign=share_via&utm_content=profile&utm_medium=ios_app" target="_blank" class="clickable">
        <img src="linkedin_icon.png" alt="LinkedIn" class="social-icon linkedin-icon clickable" />
      </a>
      <a href="https://www.instagram.com/aesthethi.cc?igsh=cWxzbHJvYWowZHVi" target="_blank" class="clickable">
        <img src="instagram_icon.png" alt="Instagram" class="social-icon instagram-icon clickable" />
      </a>
      <a href="https://www.behance.net/truptiparker" target="_blank" class="clickable">
        <img src="behance_icon.png" alt="Behance" class="social-icon behance-icon clickable" />
      </a>
    </div>
  </header>

  <!-- Desktop Icons -->
  <div class="desktop">
    <div class="icon" onclick="location.href='projects.html'">
      <img src="projects_icon.png" alt="Projects" />
      <div>Projects</div>
    </div>
    <div class="icon" onclick="location.href='about.html'">
      <img src="logo.png" alt="About Me" />
      <div>About Me</div>
    </div>
    <div class="icon" onclick="location.href='contact.html'">
      <img src="contact_me_icon.png" alt="Contact Me" />
      <div>Contact Me</div>
    </div>
  </div>

  <!-- Intro Box -->
  <div class="intro-box">
    <img src="intro_box.png" alt="Intro">
  </div>

  <!-- IDB Button -->
  <div class="idb-button clickable">
    <a href="https://www.instagram.com/aesthethi.cc?igsh=cWxzbHJvYWowZHVi" target="_blank">
      <img src="idb_button.png" alt="Instagram Dialog Button">
    </a>
  </div>

  <!-- Instagram Dialogue Box -->
  <div class="instagram-dialogue">
    <img src="instagram_dialogue_box.png" alt="Instagram Dialogue">
  </div>

  <!-- Doormat -->
  <div class="doormat-container">
    <img src="Doormat.png" alt="Doormat" class="doormat-image" />
  </div>

  <!-- Bowl -->
  <div class="bowl-container" onclick="startAnimation()">
    <img src="full_bowl.png" alt="Full Bowl" class="bowl-image" id="fullBowl" />
    <img src="half_filled_bowl.png" alt="Half Bowl" class="bowl-image" id="halfBowl" />
    <img src="quarter_filled_bowl.png" alt="Quarter Bowl" class="bowl-image" id="quarterBowl" />
    <img src="empty_bowl.png" alt="Empty Bowl" class="bowl-image active" id="emptyBowl" />
    <div class="title">Fill Bowl</div>
  </div>

  <!-- Cat Animation Frames -->
  <div class="cat-container">
    <img src="stagnant_cat.png" alt="Cat Stagnant" class="cat-frame active" id="stagnant" />
    <img src="Walk1.png" alt="Walking 1" class="cat-frame" id="walk1" />
    <img src="Walk2.png" alt="Walking 2" class="cat-frame" id="walk2" />
    <img src="Walk3.png" alt="Walking 3" class="cat-frame" id="walk3" />
    <img src="cat_eating.png" alt="Cat Eating" class="cat-frame" id="eating" />
  </div>

  <!-- Disclaimer Box -->
  <div class="disclaimer-box">
    <img src="disclaimer box.png" alt="Disclaimer">
  </div>

  <!-- JavaScript -->
  <script>
    // Custom Cursor Movement
    document.addEventListener('mousemove', (e) => {
      const cursor = document.getElementById('custom-cursor');
      cursor.style.left = `${e.clientX - 16.5}px`;
      cursor.style.top = `${e.clientY - 16.5}px`;
    });

    // Screen Size Debug Info
    function updateScreenSize() {
      const width = window.innerWidth;
      const height = window.innerHeight;
      const screenWidth = window.screen.width;
      const screenHeight = window.screen.height;
      document.getElementById('screenSize').innerHTML = `
        Window: ${width}x${height}px<br>
        Screen: ${screenWidth}x${screenHeight}px
      `;
    }

    window.addEventListener('load', updateScreenSize);
    window.addEventListener('resize', updateScreenSize);

    // Cat Animation
    const frames = [
      'stagnant',
      'walk1', 'walk2', 'walk3',
      'walk1', 'walk2', 'walk3',
      'walk1', 'walk2', 'walk3',
      'walk1', 'walk2', 'walk3', // Added extra walk cycle
      'eating'
    ];
    const bowls = ['fullBowl', 'halfBowl', 'quarterBowl', 'emptyBowl'];

    const catContainer = document.querySelector('.cat-container');
    let isAnimating = false;

    function showCatFrame(frameId) {
      document.querySelectorAll('.cat-frame').forEach(f => {
        f.style.display = 'none';
        f.classList.remove('active');
      });
      const frame = document.getElementById(frameId);
      frame.style.display = 'block';
      frame.classList.add('active');
    }

    function updateBowlStage(stageIndex) {
      document.querySelectorAll('.bowl-image').forEach(b => b.classList.remove('active'));
      document.getElementById(bowls[stageIndex]).classList.add('active');
    }

    function startAnimation() {
      if (isAnimating) return;
      isAnimating = true;

      const startPosition = 700;
      const endPosition = 40; // Base position of the bowl area
      const totalFrames = frames.length;
      const frameDuration = 300; 

      // Start with full bowl
      updateBowlStage(0);

      function animateFrame(index) {
        if (index >= totalFrames) {
          setTimeout(() => updateBowlStage(1), 500);
          setTimeout(() => updateBowlStage(2), 1000);
          setTimeout(() => {
            updateBowlStage(3);
            walkBackSequence();
          }, 1500);
          return;
        }

        const frameId = frames[index];
        showCatFrame(frameId);

        const eatingPositionLeft = endPosition + 39; // Actual left position when cat is eating

        // Calculate target left for this frame based on overall progress
        const progress = (totalFrames > 1) ? index / (totalFrames - 1) : 0;
        let currentLeftTarget;

        if (frameId === 'eating') {
            currentLeftTarget = eatingPositionLeft;
        } else if (frameId === 'stagnant' && index === 0) { // Initial stagnant
            currentLeftTarget = startPosition;
        } else { // Walking frames interpolate between start and eating position
            currentLeftTarget = startPosition + progress * (eatingPositionLeft - startPosition);
        }
        catContainer.style.left = `${currentLeftTarget}px`;

        if (frameId === 'eating') {
          // catContainer.style.left is already set
          catContainer.style.bottom = '104px'; // Adjusted from 107px
          catContainer.style.width = '110px';
          catContainer.style.height = '110px';
          catContainer.style.filter = 'drop-shadow(0 9px 4px rgba(0, 0, 0, 0.14))'; // Match walk shadow or specific eating shadow
        } else if (frameId.startsWith('walk')) {
          catContainer.style.bottom = '105.5px'; // Adjusted from 108.5px
          catContainer.style.width = '112px';
          catContainer.style.height = '112px';
          catContainer.style.filter = 'drop-shadow(0 9px 4px rgba(0, 0, 0, 0.14))';
        } else if (frameId === 'stagnant') { // Initial stagnant state
          // catContainer.style.left is already set
          catContainer.style.bottom = '107px';  // Adjusted from 110px
          catContainer.style.width = '90px';
          catContainer.style.height = '90px';
          catContainer.style.filter = 'none'; 
        }
        // Removed generic else block as all frame types are handled

        setTimeout(() => animateFrame(index + 1), frameDuration);
      }

      function walkBackSequence() {
        const walkBackFrames = [
          'eating', // Represents the state before starting to walk back
          'walk1', 'walk2', 'walk3',
          'walk1', 'walk2', 'walk3',
          'walk1', 'walk2', 'walk3',
          'walk1', 'walk2', // Removed last 'walk3'
          'stagnant'
        ];
        
        const walkBackInitialEatingLeft = endPosition + 32; // Cat's L-coord when "eating" and about to walk back (flipped)
        const walkBackFinalStagnantLeft = startPosition;    // Cat's final L-coord (original start)

        let step = 0;

        function animateWalkBack() {
          if (step >= walkBackFrames.length) {
            isAnimating = false;
            return;
          }

          const frameId = walkBackFrames[step];
          showCatFrame(frameId);

          if (frameId === 'eating') { // Frame before starting walk back, cat is turned
            catContainer.style.left = `${walkBackInitialEatingLeft}px`;
            catContainer.style.bottom = '104px'; // Adjusted from 107px
            catContainer.style.width = '110px';
            catContainer.style.height = '110px';
            catContainer.style.transform = 'scaleX(-1)'; // Flipped
            catContainer.style.filter = 'drop-shadow(0 9px 4px rgba(0, 0, 0, 0.14))'; // Consistent shadow
          } else if (frameId.startsWith('walk')) {
            const numWalkFramesInSeq = walkBackFrames.length - 2; // Total walk frames in this sequence
            // Progress for walk: 0 for first walk frame, 1 for last walk frame
            const progress = (numWalkFramesInSeq > 1) ? (step - 1) / (numWalkFramesInSeq - 1) : 0;
            
            const currentLeft = walkBackInitialEatingLeft + progress * (walkBackFinalStagnantLeft - walkBackInitialEatingLeft);
            
            catContainer.style.left = `${currentLeft}px`;
            catContainer.style.bottom = '105.5px'; // Adjusted from 108.5px
            catContainer.style.width = '112px';
            catContainer.style.height = '112px';
            catContainer.style.filter = 'drop-shadow(0 9px 4px rgba(0, 0, 0, 0.14))';
            catContainer.style.transform = 'scaleX(-1)'; // Keep flipped
          } else if (frameId === 'stagnant') { // Final stagnant frame
            catContainer.style.left = `${walkBackFinalStagnantLeft}px`; // Exact final position
            catContainer.style.transform = 'translateX(-50%)'; // Reset transform to initial (unflipped, centered)
            catContainer.style.bottom = '107px'; // Adjusted from 110px
            catContainer.style.width = '90px';
            catContainer.style.height = '90px';
            catContainer.style.filter = 'none'; // Reset shadow
          }

          step++;
          setTimeout(animateWalkBack, frameDuration);
        }

        setTimeout(animateWalkBack, 500); // Delay before cat starts walking back
      }

      animateFrame(0);
    }
  </script>
</body>
</html>
